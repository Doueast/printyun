var isIe=false;var isChrome=false;var isFirefox=false;var isOpera=false;var isSafari=false;var isOther=false;var ieVersion="";var isLower10=false;var userAgent=navigator.userAgent;if(isIE()){isIe=true;if(userAgent.indexOf("MSIE 10")>-1){ieVersion=10}else{if(userAgent.indexOf("MSIE 9")>-1){ieVersion=9;isLower10=true}else{if(userAgent.indexOf("MSIE 8")>-1){ieVersion=8;isLower10=true}else{if(userAgent.indexOf("MSIE 7")>-1){ieVersion=7;isLower10=true}else{if(userAgent.indexOf("MSIE 6")>-1){ieVersion=6;isLower10=true}}}}}}else{if(userAgent.indexOf("Chrome")>-1){isChrome=true}else{if(userAgent.indexOf("Firefox")>-1){isFirefox=true}else{if(userAgent.indexOf("Opera")>-1){isOpera=true}else{if(userAgent.indexOf("Safari")>-1){isSafari=true}else{isOther=true}}}}}function isIE(){if(!!window.ActiveXObject||"ActiveXObject" in window){return true}else{return false}}var TYPE_RESULT={SUCCESS:"0",FAIL:"1",WARN:"2",INFO:"3"};$(function(){document.onkeydown=forbidBackSpace});function checkFlashPlayer(){var b=0;var a=0;try{if(document.all){var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(f){b=1;a=parseInt(f.GetVariable("$version").split(" ")[1].split(",")[0])}}else{if(navigator.plugins&&navigator.plugins.length>0){var f=navigator.plugins["Shockwave Flash"];if(f){b=1;var c=f.description.split(" ");for(var d=0;d<c.length;++d){if(isNaN(parseInt(c[d]))){continue}a=parseInt(c[d])}}}}}catch(g){}return{hasFlashPlayer:b,flashPlayerVersion:a}}function getRootPath(){var c=window.document.location.href;var d=window.document.location.pathname;var e=c.indexOf(d);var b=c.substring(0,e);var a=d.substring(0,d.substr(1).indexOf("/")+1);return(b)}function toLogin(){window.top.location.href="../public/toLogin.action"}function reToLogin(){$.ajax({type:"get",url:"../user/quit.action",cache:false,success:function(a){loginDiv()},error:function(){alertFail("\u6ce8\u9500\u5931\u8d25\uff01")}})}function quit(){$.ajax({type:"get",url:"../user/quit.action",cache:false,success:function(a){window.top.location.href="../index.jsp"}})}function ShowDiv(c,b){document.getElementById(c).style.display="block";document.getElementById(b).style.display="block";var a=document.getElementById(b);a.style.width=document.body.scrollWidth;$("#"+b).height($(document).height());$("#"+c).css("margin-top",-$("#"+c).height()/2);$("#"+c).css("margin-left",-$("#"+c).width()/2)}function CloseDiv(b,a){document.getElementById(b).style.display="none";document.getElementById(a).style.display="none"}function forbidBackSpace(i){var f=i||window.event;var h=f.target||f.srcElement;var d=h.type||h.getAttribute("type");var g=h.readOnly;var c=h.disabled;g=(g==undefined)?false:g;c=(c==undefined)?true:c;var b=f.keyCode==8&&(d=="password"||d=="text"||d=="textarea")&&(g==true||c==true);var a=f.keyCode==8&&d!="password"&&d!="text"&&d!="textarea";if(a||b){return false}}function getUserMoney(){$.ajax({type:"post",url:"../recharge/getUserMoney.action",success:function(data){if(data.toString().indexOf("window.top.location.href")>0){alertWarningCallBack();return false}data=data.resultInfo;if(data.rsType==TYPE_RESULT.SUCCESS){var rsData=eval("("+data.rsData+")");if($("#my_balance").length>0){$("#my_balance").text(rsData.uMorney)}}else{if(data.rsType==TYPE_RESULT.WARN){alertFail(rsData.msg);return false}else{alertFail("\u7cfb\u7edf\u5f02\u5e38\uff01");return false}}}})}var isEmptyValue=function(b){var a;if(b==null||b==""||b=="null"){return true}a=Object.prototype.toString.call(b).slice(8,-1);switch(a){case"String":return !$.trim(b);case"Array":return !b.length;case"Object":return $.isEmptyObject(b);default:return false}};function closeWait(){var a=document.getElementById("bgDiv");if(!isEmptyValue(a)){document.body.removeChild(document.getElementById("bgDiv"));document.getElementById("msgDiv").removeChild(document.getElementById("msgTitle"));document.body.removeChild(document.getElementById("msgDiv"))}}function startWait(h){var i=document.getElementById("bgDiv");if(isEmptyValue(i)){var g,c,e;g=400;c=100;e="#336699";titlecolor="#99CCFF";var f,k;f=document.body.scrollWidth;k=document.body.scrollHeight;var b=document.createElement("div");b.setAttribute("id","bgDiv");b.style.position="fixed";b.style.background="#777";b.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=3,opacity=25,finishOpacity=75";b.style.opacity="0.6";b.style.top="0";b.style.left="0";b.style.right="0";b.style.bottom="0";b.style.width="100%";b.style.height="100%";b.style.zIndex=9001;document.body.appendChild(b);var a=document.createElement("div");a.setAttribute("id","msgDiv");a.setAttribute("align","center");a.style.position="fixed";a.style.background="white";a.style.font="12px/1.6em Verdana, Geneva, Arial, Helvetica, sans-serif";a.style.border="1px solid "+e;a.style.width=g+"px";a.style.height=c+"px";a.style.top="50%";a.style.left="50%";a.style.zIndex=9002;var j=document.createElement("h4");j.setAttribute("id","msgTitle");j.setAttribute("align","right");j.style.margin="0";j.style.padding="3px";j.style.background=e;j.style.filter="progid:DXImageTransform.Microsoft.Alpha(startX=20, startY=20, finishX=100, finishY=100,style=1,opacity=75,finishOpacity=100);";j.style.opacity="0.75";j.style.border="1px solid "+e;j.style.height="18px";j.style.font="12px Verdana, Geneva, Arial, Helvetica, sans-serif";j.style.color="white";document.body.appendChild(a);document.getElementById("msgDiv").appendChild(j);$("#msgDiv").css("margin-top",-$("#msgDiv").height()/2);$("#msgDiv").css("margin-left",-$("#msgDiv").width()/2);var d=document.createElement("p");d.style.margin="1em 0";d.setAttribute("id","msgTxt");if(isEmptyValue(h)){h="\u6b63\u5728\u6267\u884c, \u8bf7\u7a0d\u5019..."}d.innerHTML='<img src="../static/images/loading.gif"><br>'+h;document.getElementById("msgDiv").appendChild(d)}}function getCutStr(d,a){var b=d.substring(0,d.lastIndexOf("."));if(isEmptyValue(a)){a=15}if(b.length>a){b=b.substring(0,a)+"..."}var c=d.substring(d.lastIndexOf("."),d.length);return b+c}function isDigit(b){var a=/^[0-9]*$/;if(a.exec(b)==null||b==""){return false}else{return true}}function isEmail(b){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return a.test(b)}function isQQ(a){var b=RegExp(/^[1-9][0-9]{4,9}$/).test(a);return b}function isMobile(a){return/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(a)}function isValidReg(b){var a=/<|>|\[|\]|\{|\}|\u300e |\u300f|\u203b|\u25cb|\u25cf|\u25ce|\u00a7|\u25b3|\u25b2|\u2606|\u2605|\u25c7|\u25c6|\u25a1|\u25bc|\u32a3|\ufe4b|\u2295|\u2299|\u3012|\u3105|\u3106|\u3107|\u3108|\u3109|\u310a|\u310b|\u310c|\u310d|\u310e|\u310f|\u3110|\u3111|\u3112|\u3113|\u3114|\u3115|\u3116|\u3117|\u3118|\u3119|\u311a|\u311b|\u311c|\u311d|\u311e|\u311f|\u3122|\u3123|\u3124|\u3125|\u3126|\u3127|\u3128|\u3129|\u25a0|\u2584|\u2586|\*|@|#|\^|\\/;return !a.test(b)}function isValidLength(b,a){if(b.length>=a){return true}return false}function customConfirm(a){var b='<div id="customConfirm" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">'+a.title+'</span><span class="close_icon" onclick="closeCustomDiv(\'customConfirm\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/confirm_icon.png" style="width:32px;"/>&nbsp;&nbsp;'+a.content+'</div><div class="confirmContent_btn"><div class="custom_confirm_btn" onclick="closeCustomDiv(\'customConfirm\');confirmHandle();">\u786e\u8ba4</div><div class="custom_cancel_btn" onclick="closeCustomDiv(\'customConfirm\')">\u53d6\u6d88</div></div></div></div>';$("body").append(b);confirmHandle=a.confirmHandle;ShowDiv("customConfirm","alterDivFade")}function alertWarning(a){if(isEmptyValue(a)){a=""}var b='<div id="customAlert" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u63d0\u793a</span><span class="close_icon" onclick="closeCustomDiv(\'customAlert\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/info_icon.png" style="width:32px;"/>&nbsp;&nbsp;'+a+'</div><div class="confirmContent_btn"><div class="custom_cancel_btn" onclick="closeCustomDiv(\'customAlert\')">\u786e\u5b9a</div></div></div></div>';$("body").append(b);ShowDiv("customAlert","alterDivFade")}function alertWarningCallBack(){closeWait();var a='<div id="customConfirm" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u767b\u5f55\u786e\u8ba4</span><span class="close_icon" onclick="closeCustomDiv(\'customConfirm\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/confirm_icon.png" style="width:32px;"/>&nbsp;&nbsp;\u4f60\u7684\u8d26\u53f7\u5df2\u9000\u51fa\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01</div><div class="confirmContent_btn"><div class="custom_confirm_btn" onclick="closeCustomDiv(\'customConfirm\');location.reload();">\u786e\u8ba4</div></div></div></div>';$("body").append(a);ShowDiv("customConfirm","alterDivFade")}function alertWarningCallBackDiv(){closeWait();var a='<div id="customConfirm" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u767b\u5f55\u786e\u8ba4</span><span class="close_icon" onclick="closeCustomDiv(\'customConfirm\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/confirm_icon.png" style="width:32px;"/>&nbsp;&nbsp;\u4f60\u7684\u8d26\u53f7\u5df2\u9000\u51fa\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01</div><div class="confirmContent_btn"><div class="custom_confirm_btn" onclick="closeCustomDiv(\'customConfirm\');loginDiv();">\u786e\u8ba4</div></div></div></div>';$("body").append(a);ShowDiv("customConfirm","alterDivFade")}function alertSuccess(a){if(isEmptyValue(a)){a=""}var b='<div id="customAlert" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u63d0\u793a</span><span class="close_icon" onclick="closeCustomDiv(\'customAlert\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/success_icon.png" style="width:32px;"/>&nbsp;&nbsp;'+a+'</div><div class="confirmContent_btn"><div class="custom_cancel_btn" onclick="closeCustomDiv(\'customAlert\')">\u786e\u5b9a</div></div></div></div>';$("body").append(b);ShowDiv("customAlert","alterDivFade")}function alertFail(a){if(isEmptyValue(a)){a=""}var b='<div id="customAlert" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u63d0\u793a</span><span class="close_icon" onclick="closeCustomDiv(\'customAlert\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/error_icon.png" style="width:32px;"/>&nbsp;&nbsp;'+a+'</div><div class="confirmContent_btn"><div class="custom_cancel_btn" onclick="closeCustomDiv(\'customAlert\')">\u786e\u5b9a</div></div></div></div>';$("body").append(b);ShowDiv("customAlert","alterDivFade")}function closeCustomDiv(a){CloseDiv(a,"alterDivFade");$("#"+a).remove()}function validateIsOnline(a){var b=a.confirmHandle;$.ajax({type:"get",url:"../userLogin/validateIsOnline.action",async:false,success:function(c){c=c.resultInfo;if(c.rsType==TYPE_RESULT.SUCCESS){b()}else{var d='<div id="customConfirm" class="white_content customConfirm" style="width:440px;height: 180px;z-index:3002;"><div class="confirmTitle"><span class="title_text">\u767b\u5f55\u786e\u8ba4</span><span class="close_icon" onclick="closeCustomDiv(\'customConfirm\')"><img alt="\u5173\u95ed" src="../static/images/close_icon.png"/></span></div><div id="confirmContent" class="confirmContent"><div class="confirmContent_text"><img src="../static/images/confirm_icon.png" style="width:32px;"/>&nbsp;&nbsp;\u4f60\u7684\u8d26\u53f7\u5df2\u9000\u51fa\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01</div><div class="confirmContent_btn"><div class="custom_confirm_btn" onclick="closeCustomDiv(\'customConfirm\');loginDiv()">\u786e\u8ba4</div></div></div></div>';$("body").append(d);ShowDiv("customConfirm","alterDivFade")}}})}String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")};String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")};String.prototype.allTrim=function(){var a=this.replace(/(^\s+)|(\s+$)/g,"");return a=a.replace(/\s/g,"")};(function(a){var b={elements:[],extend:function(c,e){for(var d in e){c[d]=e[d]}return c}};a.vyinJQ=a.$$=b})(window);vyinJQ.extend(vyinJQ,{isNumber:function(a){return typeof a==="number"&&isFinite(a)},isString:function(a){return typeof a==="string"},isEmptyValue:function(b){var a;if(b==null||b==""||b=="null"){return true}a=Object.prototype.toString.call(b).slice(8,-1);switch(a){case"String":return !b.replace(/(^\s*)|(\s*$)/g,"");case"Array":return !b.length;case"Object":return this.isEmptyObject(b);default:return false}},isEmptyObject:function(b){var a;for(a in b){return false}return true},trim:function(a){if(this.isEmptyValue(a)){return""}if(this.isNumber(a)){a=a.toString()}else{if(!this.isString(a)){return""}}return a.replace(/(^\s*)|(\s*$)/g,"")},ltrim:function(a){if(this.isEmptyValue(a)){return""}if(this.isNumber(a)){a=a.toString()}else{if(!this.isString(a)){return""}}return a.replace(/(^\s*)/g,"")},rtrim:function(a){if(this.isEmptyValue(a)){return""}if(this.isNumber(a)){a=a.toString()}else{if(!this.isString(a)){return""}}return a.replace(/(\s*$)/g,"")},allTrim:function(a){if(this.isEmptyValue(a)){return""}if(this.isNumber(a)){a=a.toString()}else{if(!this.isString(a)){return""}}a=a.replace(/(^\s+)|(\s+$)/g,"");return a.replace(/\s/g,"")},getBeforeStr:function(b,a){b=this.trim(b);if(isEmptyValue(a)){a=20}if(b.length>a){return b.substring(0,a)+"..."}return b},getAfterStr:function(c,a){c=this.trim(c);if(isEmptyValue(a)){a=20}var b=c.length;if(b>a){return"..."+c.substring(b-a,b)}return c}});
